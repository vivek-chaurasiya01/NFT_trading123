<!DOCTYPE html>\n<html>\n<head>\n    <title>Wallet Debug Test</title>\n    <style>\n        body { font-family: Arial; padding: 20px; }\n        button { padding: 10px 20px; margin: 10px; background: #0f7a4a; color: white; border: none; border-radius: 5px; cursor: pointer; }\n        .result { margin: 10px 0; padding: 10px; background: #f0f0f0; border-radius: 5px; }\n        .error { background: #ffebee; }\n        .success { background: #e8f5e8; }\n    </style>\n</head>\n<body>\n    <h1>ğŸ” Wallet Connection Debug Test</h1>\n    \n    <h2>Step 1: Basic Tests</h2>\n    <button onclick=\"testMetaMask()\">Test MetaMask Direct</button>\n    <button onclick=\"testWebSocket()\">Test WebSocket</button>\n    <button onclick=\"testCSP()\">Test CSP Fetch</button>\n    \n    <h2>Step 2: Network Tests</h2>\n    <button onclick=\"testConnectivity()\">Test Connectivity</button>\n    <button onclick=\"testWalletConnect()\">Test WalletConnect API</button>\n    \n    <div id=\"results\"></div>\n    \n    <script>\n        function log(message, isError = false) {\n            const div = document.createElement('div');\n            div.className = `result ${isError ? 'error' : 'success'}`;\n            div.innerHTML = message;\n            document.getElementById('results').appendChild(div);\n        }\n        \n        async function testMetaMask() {\n            try {\n                if (!window.ethereum) {\n                    log('âŒ MetaMask not installed', true);\n                    return;\n                }\n                \n                log('âœ… MetaMask detected');\n                \n                const accounts = await window.ethereum.request({ \n                    method: 'eth_requestAccounts' \n                });\n                \n                if (accounts.length > 0) {\n                    log(`âœ… MetaMask connected: ${accounts[0].substring(0,6)}...${accounts[0].substring(38)}`);\n                } else {\n                    log('âŒ No accounts returned', true);\n                }\n            } catch (error) {\n                log(`âŒ MetaMask error: ${error.message}`, true);\n            }\n        }\n        \n        async function testWebSocket() {\n            try {\n                const ws = new WebSocket('wss://relay.walletconnect.com');\n                \n                ws.onopen = () => {\n                    log('âœ… WebSocket connection successful');\n                    ws.close();\n                };\n                \n                ws.onerror = (error) => {\n                    log('âŒ WebSocket blocked by CSP', true);\n                };\n                \n                setTimeout(() => {\n                    if (ws.readyState === WebSocket.CONNECTING) {\n                        log('â³ WebSocket timeout - possible CSP block', true);\n                        ws.close();\n                    }\n                }, 5000);\n                \n            } catch (error) {\n                log(`âŒ WebSocket error: ${error.message}`, true);\n            }\n        }\n        \n        async function testCSP() {\n            try {\n                const response = await fetch('https://api.web3modal.org/getWallets');\n                if (response.ok) {\n                    log('âœ… Web3Modal API accessible');\n                } else {\n                    log(`âŒ Web3Modal API error: ${response.status}`, true);\n                }\n            } catch (error) {\n                log(`âŒ CSP blocked Web3Modal API: ${error.message}`, true);\n            }\n        }\n        \n        async function testConnectivity() {\n            const endpoints = [\n                'https://api.github.com/zen',\n                'https://httpbin.org/status/200',\n                'https://jsonplaceholder.typicode.com/posts/1'\n            ];\n            \n            for (const url of endpoints) {\n                try {\n                    const response = await fetch(url);\n                    if (response.ok) {\n                        log(`âœ… ${url} - OK`);\n                    } else {\n                        log(`âŒ ${url} - ${response.status}`, true);\n                    }\n                } catch (error) {\n                    log(`âŒ ${url} - ${error.message}`, true);\n                }\n            }\n        }\n        \n        async function testWalletConnect() {\n            const urls = [\n                'https://explorer-api.walletconnect.com/v3/wallets',\n                'https://pulse.walletconnect.com/batch',\n                'https://verify.walletconnect.com'\n            ];\n            \n            for (const url of urls) {\n                try {\n                    const response = await fetch(url);\n                    log(`âœ… ${url} - ${response.status}`);\n                } catch (error) {\n                    log(`âŒ ${url} - ${error.message}`, true);\n                }\n            }\n        }\n        \n        // Auto-run basic tests\n        window.onload = () => {\n            log('ğŸš€ Starting automatic tests...');\n            setTimeout(testCSP, 1000);\n            setTimeout(testWebSocket, 2000);\n        };\n    </script>\n</body>\n</html>