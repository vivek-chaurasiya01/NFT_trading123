import React, { useState, useEffect } from 'react';\nimport realWalletService from '../services/realWalletService';\nimport walletDebug from '../utils/walletDebug';\n\nconst WalletTest = () => {\n  const [debugInfo, setDebugInfo] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('Not Connected');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadDebugInfo();\n  }, []);\n\n  const loadDebugInfo = async () => {\n    const info = await walletDebug.generateDebugReport();\n    setDebugInfo(info);\n  };\n\n  const testConnection = async () => {\n    setLoading(true);\n    try {\n      const result = await realWalletService.connectWallet();\n      if (result.success) {\n        setConnectionStatus(`Connected: ${result.account}`);\n      } else {\n        setConnectionStatus(`Failed: ${result.error}`);\n      }\n    } catch (error) {\n      setConnectionStatus(`Error: ${error.message}`);\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"p-6 max-w-4xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-6\">Wallet Connection Test</h1>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {/* Debug Info */}\n        <div className=\"bg-gray-50 p-4 rounded-lg\">\n          <h2 className=\"text-lg font-semibold mb-3\">Debug Information</h2>\n          {debugInfo ? (\n            <div className=\"space-y-2 text-sm\">\n              <div><strong>Browser:</strong> {debugInfo.browser.browser} {debugInfo.browser.isMobile ? '(Mobile)' : '(Desktop)'}</div>\n              <div><strong>Wallet Installed:</strong> {debugInfo.wallet?.hasEthereum ? '✅ Yes' : '❌ No'}</div>\n              <div><strong>MetaMask:</strong> {debugInfo.wallet?.isMetaMask ? '✅ Yes' : '❌ No'}</div>\n              <div><strong>Internet:</strong> {debugInfo.connectivity ? '✅ Connected' : '❌ Offline'}</div>\n              <div><strong>Project ID:</strong> {debugInfo.projectId ? '✅ Set' : '❌ Missing'}</div>\n              \n              {debugInfo.wallet?.providers && debugInfo.wallet.providers.length > 0 && (\n                <div>\n                  <strong>Available Providers:</strong>\n                  <ul className=\"ml-4 mt-1\">\n                    {debugInfo.wallet.providers.map((provider, index) => (\n                      <li key={index}>\n                        {provider.isMetaMask && '• MetaMask'}\n                        {provider.isTrust && '• Trust Wallet'}\n                        {provider.isCoinbaseWallet && '• Coinbase Wallet'}\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n            </div>\n          ) : (\n            <div>Loading debug info...</div>\n          )}\n        </div>\n\n        {/* Connection Test */}\n        <div className=\"bg-blue-50 p-4 rounded-lg\">\n          <h2 className=\"text-lg font-semibold mb-3\">Connection Test</h2>\n          <div className=\"space-y-3\">\n            <div><strong>Status:</strong> {connectionStatus}</div>\n            <button\n              onClick={testConnection}\n              disabled={loading}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50\"\n            >\n              {loading ? 'Testing...' : 'Test Connection'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Raw Debug Data */}\n      {debugInfo && (\n        <div className=\"mt-6 bg-gray-100 p-4 rounded-lg\">\n          <h2 className=\"text-lg font-semibold mb-3\">Raw Debug Data</h2>\n          <pre className=\"text-xs overflow-auto max-h-64\">\n            {JSON.stringify(debugInfo, null, 2)}\n          </pre>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WalletTest;